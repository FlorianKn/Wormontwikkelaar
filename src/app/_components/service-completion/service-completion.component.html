
<form (ngSubmit)="onSubmit(model, action);" #serviceCompletionForm="ngForm">
  <div class="form-group col-md-6" style="display:flex;justify-content: space-between">
    <h4>Service Completion Form</h4>
  </div>
  <div class="form-group col-md-6">
    <label for="appointmentDropdown">Select Appointment:</label>
    <select class="form-control" id="appointmentDropdown" [(ngModel)]="selectedId" name="appointment.id" #status="ngModel">
      <option *ngFor="let appointment of appointments" [value]="appointment.id">{{appointment.id}}, {{appointment.customer.name}}, {{appointment.serviceProduct.name}}, {{appointment.description}}, {{appointment.serviceDate}}, {{appointment.plannedTimeRange}}</option>
    </select>
  </div>
  <div class="form-group col-md-6">
    <label for="ServiceDate">Service Date: </label>
    <input type="text" required class="form-control" id="ServiceDate" [(ngModel)]="serviceDate" name="date" #title="ngModel">
  </div>
  <div class="form-group col-md-6">
    <label for="RealTime">Required Time: </label>
    <input type="text" required class="form-control" id="RealTime" [(ngModel)]="realTime" name="time" #title="ngModel">
  </div>
   
  <div class="form-group col-md-6">
    <label for="table">Used Parts: </label>
    <table class="table" cellspacing="10" cellpadding="20">
      <tr><th>Teile</th><th>Teilebeschreibung</th><th>Anzahl</th><th>Einheit</th></tr>
      <ng-container *ngFor="let part of partlist; let index = index">
        <tr>
          <td>{{part.name}}</td>
          <td>{{part.description}}</td>
          <td><input type="number" required class="form-control" [(ngModel)]="partCount[index]" name="count" #title="ngModel"></td>
          <td>{{units[index]}}</td>
        </tr>
      </ng-container>
    </table>
  </div>
  
  <div class="form-group col-md-6">
      <label for="Signature">Signature Customer: </label>
      <input type="text" required class="form-control" id="Signature" [(ngModel)]="sign" name="sign" #title="ngModel">
    </div>
  
  <div class="form-group col-md-6">
    <button type="submit" [disabled]="!serviceCompletionForm.form.valid" class="btn btn-success" (click)="serviceCompletion(); serviceCompletionForm.reset()">
      <em class="fas fa-check fa-sm"></em>Complete Service Completion
    </button>
  </div>
</form>

<!-- TODO Service Completion Object list-->